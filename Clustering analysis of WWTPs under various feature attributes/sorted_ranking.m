function Data = sorted_ranking(classnum_count,C,data,label,k)

[r,c]=size(data);
% classnum_count=5;
% C=[1.62000000000000,27.3800000000000,1.38000000000000,3.82000000000000,1.24000000000000,5.70000000000000,18.6000000000000,6.96000000000000,1.09420000000000,1.74000000000000,3.70000000000000,1.58000000000000,1.92000000000000,2.62000000000000,1.98000000000000,4.66000000000000,1.30000000000000,2.32000000000000,1.30000000000000,2.32000000000000,2.12000000000000,1.86000000000000;1.50000000000000,29.2500000000000,1.75000000000000,3.25000000000000,1,5.25000000000000,8.75000000000000,234.750000000000,1.05000000000000,1.25000000000000,2.50000000000000,1.75000000000000,2,2.75000000000000,3.50000000000000,3.50000000000000,1.50000000000000,1.75000000000000,2.50000000000000,2.25000000000000,2.50000000000000,1.75000000000000;1.56818181818182,31.9545454545455,1.75000000000000,3.04545454545455,2.13636363636364,5.02272727272727,15.3409090909091,63.5227272727273,1.34897727272727,2.15909090909091,3.72727272727273,1.45454545454545,1.68181818181818,2.65909090909091,1.97727272727273,4.34090909090909,1.43181818181818,2.31818181818182,1.56818181818182,2.52272727272727,2.38636363636364,1.84090909090909;1.50000000000000,33.5000000000000,2,1.50000000000000,1,5.50000000000000,22,263.500000000000,2.25000000000000,1,4,1.50000000000000,1.50000000000000,3,2,5,1.50000000000000,1.50000000000000,2,1.50000000000000,2,1.50000000000000;1.50000000000000,29.5000000000000,1.57142857142857,3,1.71428571428571,4.21428571428571,9.21428571428571,144.428571428571,0.432685714285714,1.92857142857143,3.71428571428571,1.57142857142857,2.07142857142857,2.71428571428571,2,4.14285714285714,1.78571428571429,1.92857142857143,2.14285714285714,2.42857142857143,2.50000000000000,1.42857142857143];
% % A=zeros(classnum_count,1);
% label=[8,1,1,1,1,1,8,8,10,8,1,10,1,8,1,1,8,8,8,8,1,1,1,8,8,8,8,9,8,1,8,10,8,8,1,10,10,1,8,8,1,1,8,8,1,1,1,8,1,1,1,8,1,4,1,10,1,1,8,1,8,1,1,8,8,8,10,1,1,8,1,8,1,1,1,8,8,1,1,1,1,8,1,1,10,1,1,4,8,1,8,1,8,10,8,1,8,8,9,8,8,4,10,1,8,10,10,8,4,1,8,1,10,10];
% M=zeros(classnum_count,1);
% N=zeros(classnum_count,1);
% best_individual={};
Class_data={};

count=zeros(1,k);
for j=1:r      
    for p=1:k
        if label(j)==p
            count(p)=count(p)+1;
        end
    end
end
[~,rowtemp]=sort(count,'descend');

Class_data={};
QQ={};
A={};
% QQ{1}=data(Class_data{1},:);
% q=QQ{1}(1,:);
for i=1:classnum_count
    Class_data{i}=find(label==rowtemp(i));
    for j=1:length(Class_data{i})
        QQ{i}=data(Class_data{i},:);
        A{i,j}=Distance(C(i,:),QQ{i}(j,:));
        B(i,j)=A{i,j};
    end
    [a,b]=sort(B(i,1:length(Class_data{i})),'descend');
    OO{i}=b;
%     for l=1:length(Class_data{i})
%        
%          OO{i}(1:length(Class_data{i}))=Class_data{i}(b(l));
%     end                         
end

for i=1:classnum_count     
        RR{i}=Class_data{i}(OO{i});
        
end

Data={};

for i=1:classnum_count 

   Data{i}=data(RR{i},:);
  
end
%     [a,b]=sort(A{i,j},'descend');
%     best_individual{:,:,j}=data(b,:);
%         [M(j),N(j)]=min(A{i,:});